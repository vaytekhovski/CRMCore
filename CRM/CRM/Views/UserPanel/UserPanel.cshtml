@model CRM.ViewModels.UserPanelModel


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>UserPanel</title>


    <link href="~/css/stylesheet.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
    <div>
        @Html.Partial("Navbar")
    </div>

    <div class="user_panel">
        <div class="parent">
            <form action="/UserPanel/UserPanel" method="post">
                <div style="text-align:center">
                    <h1>USER PANEL</h1>
                </div>

                <label>Имя:</label><br />
                <div class="input-group mb-3">
                    <input class="form-control" placeholder="@ViewBag.Name" type="text" asp-for="Name" />
                    <span asp-validation-for="Name" />
                    <button class="btn btn-success" type="submit" formaction="/UserPanel/ChangeName" formmethod="get">Изменить</button>
                </div>

                <label>Фамилия:</label><br />
                <div class="input-group mb-3">
                    <input class="form-control" placeholder="@ViewBag.Surname" type="text" asp-for="Surname" />
                    <span asp-validation-for="Surname" />
                    <div class="input-group-append">
                        <button class="btn btn-success" type="submit" formaction="/UserPanel/ChangeSurname" formmethod="get">Изменить</button>
                    </div>
                </div>

                <label>Логин:</label><br />
                <div class="input-group mb-3">
                    <input class="form-control" placeholder="@ViewBag.Login" type="text" asp-for="Login" />
                    <span asp-validation-for="Login" />
                    <div class="input-group-append">
                        <button class="btn btn-success" type="submit" formaction="/UserPanel/ChangeLoginAsync" formmethod="get">Изменить</button>
                    </div>
                </div>

                <label>Пароль:</label><br />
                <div class="input-group mb-3">
                    <input class="form-control" placeholder="@ViewBag.Password" type="text" asp-for="Password" />
                    <span asp-validation-for="Password" />
                    <div class="input-group-append">
                        <button class="btn btn-success" type="submit" formaction="/UserPanel/ChangePassword" formmethod="get">Изменить</button>
                    </div>
                </div>

                <label>Обновление данных ежедневно в: </label><br />
                <div class="input-group mb-3">
                    <input type="text" class="form-control" name="updateData" placeholder="@CRM.Services.DailyTriggerService.TriggerHour">
                    <div class="input-group-append">
                        <button class="btn btn-success" type="submit" formaction="/UserPanel/ChangeDailyTrigger" formmethod="get">Изменить</button>
                    </div>
                </div>

                <label>Ручная загрузка данных: </label><br />
                <div class="input-group mb-3">
                    <input type="date" class="form-control" name="startDate" value="" />
                    <input type="date" class="form-control" name="endDate" value="" />
                    <div class="input-group-append">
                        <button class="btn btn-success" id="loadData" type="submit" formaction="/UserPanel/LoadData" formmethod="get">Загрузить</button>
                    </div>
                </div>
                <div style="margin-left:48%">
                    <div id="Spinner" style="display:none" class="spinner-border text-success"></div>
                </div>
                <script>

                    $("#loadData").click(function () {
                        showDiv();
                    });

                    function showDiv() {
                        document.getElementById('Spinner').style.display = "block";
                    }
                </script>

                <div style="text-align:center">
                    @ViewBag.status
                </div>

                <div>
                    <label>Дата регистрации: @ViewBag.RegistrationDate</label>
                </div>
                <div style="text-align:center">
                    <button class="btn btn-danger" type="submit" formaction="/UserPanel/ExitFromAccount" formmethod="get" name="exit_button">Выход из аккаунта</button>
                </div>

            </form>
        </div>
    </div>
</body>
</html>
